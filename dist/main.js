(()=>{"use strict";!function(){let t=document.getElementById("citySearch"),e=t.querySelector("#cityInput");t.addEventListener("submit",(function(t){t.preventDefault(),c(e.value),r(e.value)}));let a={},o=[{},{},{}],c=async function(t){try{let e="https://api.weatherapi.com/v1/current.json?key=d1daec9ddc01455f82a220024232608&q="+t,o=await fetch(e,{mode:"cors"}),c=await o.json();n.collectTodaysWeather(c),function(t){let e=document.querySelector(".todayForecastWrapper");e.querySelector("#cityName").textContent=t.city+", ",e.querySelector("#country").textContent=t.country,e.querySelector("#todaysDate").textContent=t.localtime,e.querySelector("#conditionText").textContent=t.condition,e.querySelector("#humidity").textContent="Humidity: "+t.humidity+" %",e.querySelector("#windKPH").textContent="Wind: "+t.windKPH+" kph";let a=e.querySelector("#cloudness"),o="";0==t.cloud?o="Clear":0<t.cloud&&t.cloud<26?o="Little cloudy":24<t.cloud&&t.cloud<51?o="Partly cloudy":50<t.cloud&&t.cloud<85?o="Cloudy":84<t.cloud&&(o="Mainly cloudy"),a.textContent="Cloudness: "+o,e.querySelector("#todaysTemperature").textContent=t.tempC+" C"}(a)}catch(t){console.error("Произошла ошибка:",t)}},r=async function(t){try{let e="http://api.weatherapi.com/v1/forecast.json?key=d1daec9ddc01455f82a220024232608&q="+t+"&days=3&aqi=no&alerts=no",a=await fetch(e,{mode:"cors"}),c=await a.json();n.collectThreeDayForecast(c),function(t){let e=document.querySelector(".futureForecastWrapper"),a=e.querySelector(".day0Wrapper");a.querySelector(".date").textContent=t[0].date,a.querySelector("#day0temp").textContent=t[0].dayTC,a.querySelector("#night0temp").textContent=t[0].nightTC;let o=e.querySelector(".day1Wrapper");o.querySelector(".date").textContent=t[1].date,o.querySelector("#day1temp").textContent=t[1].dayTC,o.querySelector("#night1temp").textContent=t[1].nightTC;let c=e.querySelector(".day2Wrapper");c.querySelector(".date").textContent=t[2].date,c.querySelector("#day2temp").textContent=t[2].dayTC,c.querySelector("#night2temp").textContent=t[2].nightTC}(o)}catch(t){console.error("Произошла ошибка:",t)}},n={collectTodaysWeather(t){a.city=t.location.name,a.country=t.location.country,a.localtime=t.location.localtime,a.condition=t.current.condition.text,a.humidity=t.current.humidity,a.tempC=t.current.temp_c,a.tempF=t.current.temp_f,a.windKPH=t.current.wind_kph,a.cloud=t.current.cloud},collectThreeDayForecast(t){o[0].date=t.forecast.forecastday[0].date,o[0].dayTC=t.forecast.forecastday[0].day.maxtemp_c,o[0].dayTF=t.forecast.forecastday[0].day.maxtemp_f,o[0].nightTC=t.forecast.forecastday[0].day.mintemp_c,o[0].nightTF=t.forecast.forecastday[0].day.mintemp_f,o[1].date=t.forecast.forecastday[1].date,o[1].dayTC=t.forecast.forecastday[1].day.maxtemp_c,o[1].dayTF=t.forecast.forecastday[1].day.maxtemp_f,o[1].nightTC=t.forecast.forecastday[1].day.mintemp_c,o[1].nightTF=t.forecast.forecastday[1].day.mintemp_f,o[2].date=t.forecast.forecastday[2].date,o[2].dayTC=t.forecast.forecastday[2].day.maxtemp_c,o[2].dayTF=t.forecast.forecastday[2].day.maxtemp_f,o[2].nightTC=t.forecast.forecastday[2].day.mintemp_c,o[2].nightTF=t.forecast.forecastday[2].day.mintemp_f,console.log(o)}}}()})();