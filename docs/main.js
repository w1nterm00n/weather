(()=>{"use strict";async function t(t,e,o=0){return console.log("anim"),new Promise((n=>{t.style.setProperty("--animate-delay",`${o}ms`),t.classList.add("animate__animated",e),t.addEventListener("animationend",(function o(a){a.stopPropagation(),t.classList.remove("animate__animated",e),t.style.removeProperty("--animate-delay"),t.style.opacity="1",t.removeEventListener("animationend",o),n()}),{once:!0})}))}function e(t,e){let o=document.querySelector(".futureForecastWrapper");o.style.display="flex";let n=async function(t,e){try{let o="https:"+t,n=await fetch(o,{mode:"cors"});e.style.backgroundImage=`url(${n.url})`,e.style.backgroundRepeat="no-repeat",e.style.backgroundSize="cover"}catch(t){console.error("Произошла ошибка:",t)}},a=o.querySelector(".day0Wrapper");a.querySelector(".date").textContent=t[0].date;let c=a.querySelector("#day0temp"),r=a.querySelector("#night0temp");"C"===e?(c.textContent=t[0].dayTC+" °"+e,r.textContent=t[0].nightTC+" °"+e):(c.textContent=t[0].dayTF+" "+e,r.textContent=t[0].nightTF+" "+e);let i=a.querySelector(".icon");n(t[0].icon,i);let d=o.querySelector(".day1Wrapper");d.querySelector(".date").textContent=t[1].date;let y=d.querySelector("#day1temp"),l=d.querySelector("#night1temp");"C"===e?(y.textContent=t[1].dayTC+" °"+e,l.textContent=t[1].nightTC+" °"+e):(y.textContent=t[1].dayTF+" "+e,l.textContent=t[1].nightTF+" "+e);let s=d.querySelector(".icon");n(t[1].icon,s);let u=o.querySelector(".day2Wrapper");u.querySelector(".date").textContent=t[2].date;let m=u.querySelector("#day2temp"),f=u.querySelector("#night2temp");"C"===e?(m.textContent=t[2].dayTC+" °"+e,f.textContent=t[2].nightTC+" °"+e):(m.textContent=t[2].dayTF+" "+e,f.textContent=t[2].nightTF+" "+e);let p=u.querySelector(".icon");n(t[2].icon,p)}function o(t,e){let o=document.querySelector(".todayForecastWrapper");o.style.display="flex",o.querySelector("#cityName").textContent=t.city+", ",o.querySelector("#country").textContent=t.country,o.querySelector("#todaysDate").textContent=t.localtime,o.querySelector("#conditionText").textContent=t.condition;let n=o.querySelector(".icon");!async function(t){try{let e="https:"+t,o=await fetch(e,{mode:"cors"});n.style.backgroundImage=`url(${o.url})`,n.style.backgroundRepeat="no-repeat",n.style.backgroundSize="cover"}catch(t){console.error("Произошла ошибка:",t)}}(t.icon),o.querySelector("#humidity").textContent="Humidity: "+t.humidity+" %",o.querySelector("#windKPH").textContent="Wind: "+t.windKPH+" kph";let a=o.querySelector("#cloudness"),c="";0==t.cloud?c="Clear":0<t.cloud&&t.cloud<26?c="Little cloudy":24<t.cloud&&t.cloud<51?c="Partly cloudy":50<t.cloud&&t.cloud<85?c="Cloudy":84<t.cloud&&(c="Mainly cloudy"),a.textContent="Cloudness: "+c;let r=o.querySelector("#todaysTemperature");"F"===e?r.textContent=t.tempF+" "+e:"C"===e&&(r.textContent=t.tempC+" °"+e)}let n=document.getElementById("citySearch");const a=document.querySelector(".mainCardWrapper"),c=document.querySelector(".todayForecastWrapper"),r=document.querySelector(".futureForecastWrapper");let i=!1,d=n.querySelector("#cityInput");n.addEventListener("submit",(async function(n){n.preventDefault(),await async function(t){let n=await async function(t){let e=await async function(t){try{let e="https://api.weatherapi.com/v1/current.json?key=d1daec9ddc01455f82a220024232608&q="+t,o=await fetch(e,{mode:"cors"}),n=await o.json();if(!o.ok)throw new Error("Произошла ошибка: "+o.status);return n}catch(t){console.error("Произошла ошибка:",t),alert("Unknown location")}}(t),o=await async function(t){try{let e="https://api.weatherapi.com/v1/forecast.json?key=d1daec9ddc01455f82a220024232608&q="+t+"&days=3",o=await fetch(e,{mode:"cors"}),n=await o.json();if(!o.ok)throw new Error("Произошла ошибка: "+o.status);return n}catch(t){console.error("Произошла ошибка:",t)}}(t);return[e,o]}(t),a=function(t){let e={};return e.city=t.location.name,e.country=t.location.country,e.localtime=t.location.localtime,e.condition=t.current.condition.text,e.humidity=t.current.humidity,e.tempC=t.current.temp_c,e.tempF=t.current.temp_f,e.windKPH=t.current.wind_kph,e.cloud=t.current.cloud,e.icon=t.current.condition.icon,e}(n[0]),c=function(t){let e=[{},{},{}];return e[0].date=t.forecast.forecastday[0].date,e[0].dayTC=t.forecast.forecastday[0].day.maxtemp_c,e[0].dayTF=t.forecast.forecastday[0].day.maxtemp_f,e[0].nightTC=t.forecast.forecastday[0].day.mintemp_c,e[0].nightTF=t.forecast.forecastday[0].day.mintemp_f,e[0].icon=t.forecast.forecastday[0].day.condition.icon,e[1].date=t.forecast.forecastday[1].date,e[1].dayTC=t.forecast.forecastday[1].day.maxtemp_c,e[1].dayTF=t.forecast.forecastday[1].day.maxtemp_f,e[1].nightTC=t.forecast.forecastday[1].day.mintemp_c,e[1].nightTF=t.forecast.forecastday[1].day.mintemp_f,e[1].icon=t.forecast.forecastday[1].day.condition.icon,e[2].date=t.forecast.forecastday[2].date,e[2].dayTC=t.forecast.forecastday[2].day.maxtemp_c,e[2].dayTF=t.forecast.forecastday[2].day.maxtemp_f,e[2].nightTC=t.forecast.forecastday[2].day.mintemp_c,e[2].nightTF=t.forecast.forecastday[2].day.mintemp_f,e[2].icon=t.forecast.forecastday[2].day.condition.icon,e}(n[1]);o(a,"F"),e(c,"F"),function(t,n){let a="F",c=document.getElementById("changeTempUnit");c.addEventListener("click",(function(){"F"==a?(a="C",c.textContent="to Fahrenheit"):"C"==a&&(a="F",c.textContent="to Celsius"),o(t,a),e(n,a)}))}(a,c)}(d.value),i=!1,a.classList.remove("open"),a.classList.toggle("open"),await async function(){i||(i=!0,await t(c,"animate__fadeInDown",150),await t(r,"animate__fadeInDown",150))}()}))})();
//# sourceMappingURL=main.js.map