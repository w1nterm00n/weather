(()=>{"use strict";var e={79:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.displayThreeDayForecast=function(e,t){let a=document.querySelector(".futureForecastWrapper");function o(o){let r=a.querySelector(`.day${o}Wrapper`);r.querySelector(".date").textContent=e[o].date;let n=r.querySelector(`#day${o}temp`),c=r.querySelector(`#night${o}temp`);const i="C"===t?"dayTC":"dayTF",l="C"===t?"nightTC":"nightTF";n.textContent=`${e[o][i]} °${t}`,c.textContent=`${e[o][l]} °${t}`;let s=r.querySelector(".icon");!async function(e,t){try{let a="https:"+e,o=await fetch(a,{mode:"cors"});t.style.backgroundImage=`url(${o.url})`,t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover"}catch(e){console.error("Произошла ошибка:",e)}}(e[o].icon,s)}a.style.display="flex";for(let e=0;e<=2;e++)o(e)}},28:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.displayTodayForecast=function(e,t){let a=document.querySelector(".todayForecastWrapper");a.style.display="flex",a.querySelector("#cityName").textContent=e.city+", ",a.querySelector("#country").textContent=e.country,a.querySelector("#todaysDate").textContent=e.localtime,a.querySelector("#conditionText").textContent=e.condition;let o=a.querySelector(".icon");var r;(async function(e){try{let t="https:"+e,a=await fetch(t,{mode:"cors"});o.style.backgroundImage=`url(${a.url})`,o.style.backgroundRepeat="no-repeat",o.style.backgroundSize="cover"}catch(e){console.error("Произошла ошибка:",e)}})(e.icon),a.querySelector("#humidity").textContent="Humidity: "+e.humidity+" %",a.querySelector("#windKPH").textContent="Wind: "+e.windKPH+" kph",a.querySelector("#cloudness").textContent="Cloudness: "+(0===(r=e.cloud)?"Clear":r<=25?"Little cloudy":r<=50?"Partly cloudy":r<=85?"Cloudy":"Mainly cloudy");let n="C"===t?"tempC":"tempF";a.querySelector("#todaysTemperature").textContent=`${e[n]} °${t}`}},342:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=async function(e){return[await(0,r.fetchTodayWeather)(e),await(0,o.fetchThreeDayForecast)(e)]};const o=a(153),r=a(881)},153:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchThreeDayForecast=async function(e){try{let t="https://api.weatherapi.com/v1/forecast.json?key=d1daec9ddc01455f82a220024232608&q="+e+"&days=3",a=await fetch(t,{mode:"cors"}),o=await a.json();if(!a.ok)throw new Error("Произошла ошибка: "+a.status);return o}catch(e){console.error("Произошла ошибка:",e)}}},881:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTodayWeather=async function(e){try{let t="https://api.weatherapi.com/v1/current.json?key=d1daec9ddc01455f82a220024232608&q="+e,a=await fetch(t,{mode:"cors"}),o=await a.json();if(console.log("weatherData ",o),!a.ok)throw new Error("Произошла ошибка: "+a.status);return{city:o.location.name,localtime:o.location.localtime,condition:o.current.condition.text,humidity:o.current.humidity,tempC:o.current.temp_c,tempF:o.current.temp_f,windKPH:o.current.wind_kph,cloud:o.current.cloud,icon:o.current.condition.icon}}catch(e){throw console.error("Произошла ошибка:",e),alert("Unknown location"),e}}},535:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapThreeDaysForecast=function(e){let t=[{},{},{}];for(let a=0;a<=2;a++)t[a].date=e.forecast.forecastday[a].date,t[a].dayTC=e.forecast.forecastday[a].day.maxtemp_c,t[a].dayTF=e.forecast.forecastday[a].day.maxtemp_f,t[a].nightTC=e.forecast.forecastday[a].day.mintemp_c,t[a].nightTF=e.forecast.forecastday[a].day.mintemp_f,t[a].icon=e.forecast.forecastday[a].day.condition.icon;return t}},602:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getScale=function(){return a},t.setScale=function(e){a=e};let a="F"},265:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.playAnim=async function(e,t,a=0){return new Promise((o=>{e.style.setProperty("--animate-delay",`${a}ms`),e.classList.add("animate__animated",t),e.addEventListener("animationend",(function a(r){r.stopPropagation(),e.classList.remove("animate__animated",t),e.style.removeProperty("--animate-delay"),e.style.opacity="1",e.removeEventListener("animationend",a),o()}),{once:!0})}))}},45:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeScale=function(e,t){let a=(0,n.getScale)(),c=document.getElementById("changeTempUnit");c.addEventListener("click",(function(){"F"==a?(a="C",c.textContent="to Fahrenheit"):"C"==a&&(a="F",c.textContent="to Celsius"),(0,r.displayTodayForecast)(e,a),(0,o.displayThreeDayForecast)(t,a)}))};const o=a(79),r=a(28),n=a(602)}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}(()=>{const e=a(265),t=a(79),o=a(28),r=a(342),n=a(535),c=a(45);let i=document.getElementById("citySearch");const l=document.querySelector(".mainCardWrapper"),s=document.querySelector(".todayForecastWrapper"),d=document.querySelector(".futureForecastWrapper");let y=!1,u=i.querySelector("#cityInput");i.addEventListener("submit",(async function(a){a.preventDefault(),await async function(e){let a=await(0,r.fetchData)(e),i=(0,n.mapThreeDaysForecast)(a[1]);(0,o.displayTodayForecast)(a[0],"F"),(0,t.displayThreeDayForecast)(i,"F"),(0,c.changeScale)(a[0],i)}(u.value),y=!1,l.classList.remove("open"),l.classList.toggle("open"),await async function(){y||(y=!0,await(0,e.playAnim)(s,"animate__fadeInDown",150),await(0,e.playAnim)(d,"animate__fadeInDown",150))}()}))})()})();
//# sourceMappingURL=main.js.map