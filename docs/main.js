(()=>{"use strict";var e={79:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.displayThreeDayForecast=function(e,t){let o=document.querySelector(".futureForecastWrapper");function n(n){let a=o.querySelector(`.day${n}Wrapper`);a.querySelector(".date").textContent=e[n].date;let r=a.querySelector(`#day${n}temp`),c=a.querySelector(`#night${n}temp`);const i="C"===t?"dayTC":"dayTF",l="C"===t?"nightTC":"nightTF";r.textContent=`${e[n][i]} °${t}`,c.textContent=`${e[n][l]} °${t}`;let d=a.querySelector(".icon");!async function(e,t){try{let o="https:"+e,n=await fetch(o,{mode:"cors"});t.style.backgroundImage=`url(${n.url})`,t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover"}catch(e){console.error("Произошла ошибка:",e)}}(e[n].icon,d)}o.style.display="flex";for(let e=0;e<=2;e++)n(e)}},28:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.displayTodayForecast=function(e,t){let o=document.querySelector(".todayForecastWrapper");o.style.display="flex",o.querySelector("#cityName").textContent=e.city+", ",o.querySelector("#country").textContent=e.country,o.querySelector("#todaysDate").textContent=e.localtime,o.querySelector("#conditionText").textContent=e.condition;let n=o.querySelector(".icon");var a;(async function(e){try{let t="https:"+e,o=await fetch(t,{mode:"cors"});n.style.backgroundImage=`url(${o.url})`,n.style.backgroundRepeat="no-repeat",n.style.backgroundSize="cover"}catch(e){console.error("Произошла ошибка:",e)}})(e.icon),o.querySelector("#humidity").textContent="Humidity: "+e.humidity+" %",o.querySelector("#windKPH").textContent="Wind: "+e.windKPH+" kph",o.querySelector("#cloudness").textContent="Cloudness: "+(0===(a=e.cloud)?"Clear":a<=25?"Little cloudy":a<=50?"Partly cloudy":a<=85?"Cloudy":"Mainly cloudy");let r="C"===t?"tempC":"tempF";o.querySelector("#todaysTemperature").textContent=`${e[r]} °${t}`}},153:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchThreeDayForecast=async function(e){try{let t="https://api.weatherapi.com/v1/forecast.json?key=d1daec9ddc01455f82a220024232608&q="+e+"&days=3",o=await fetch(t,{mode:"cors"}),n=await o.json();if(!o.ok)throw new Error("Произошла ошибка: "+o.status);return n.forecast.forecastday.map((e=>({date:e.date,dayTC:e.day.maxtemp_c,dayTF:e.day.maxtemp_f,nightTC:e.day.mintemp_c,nightTF:e.day.mintemp_f,icon:e.day.condition.icon})))}catch(e){return console.error("Произошла ошибка:",e),[]}}},881:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTodayWeather=async function(e){try{let t="https://api.weatherapi.com/v1/current.json?key=d1daec9ddc01455f82a220024232608&q="+e,o=await fetch(t,{mode:"cors"}),n=await o.json();if(!o.ok)throw new Error("Произошла ошибка: "+o.status);return{city:n.location.name,country:n.location.country,localtime:n.location.localtime,condition:n.current.condition.text,humidity:n.current.humidity,tempC:n.current.temp_c,tempF:n.current.temp_f,windKPH:n.current.wind_kph,cloud:n.current.cloud,icon:n.current.condition.icon}}catch(e){throw console.error("Произошла ошибка:",e),alert("Unknown location"),e}}},602:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getScale=function(){return o},t.setScale=function(e){o=e};let o="F"},265:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.playAnim=async function(e,t,o=0){return new Promise((n=>{e.style.setProperty("--animate-delay",`${o}ms`),e.classList.add("animate__animated",t),e.addEventListener("animationend",(function o(a){a.stopPropagation(),e.classList.remove("animate__animated",t),e.style.removeProperty("--animate-delay"),e.style.opacity="1",e.removeEventListener("animationend",o),n()}),{once:!0})}))}},45:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeScale=function(e,t){let o=(0,r.getScale)(),c=document.getElementById("changeTempUnit");c.addEventListener("click",(function(){"F"==o?(o="C",c.textContent="to Fahrenheit"):"C"==o&&(o="F",c.textContent="to Celsius"),(0,a.displayTodayForecast)(e,o),(0,n.displayThreeDayForecast)(t,o)}))};const n=o(79),a=o(28),r=o(602)}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}(()=>{const e=o(265),t=o(79),n=o(28),a=o(45),r=o(881),c=o(153);let i=document.getElementById("citySearch");const l=document.querySelector(".mainCardWrapper"),d=document.querySelector(".todayForecastWrapper"),y=document.querySelector(".futureForecastWrapper");let u=!1,s=i.querySelector("#cityInput");i.addEventListener("submit",(async function(o){o.preventDefault(),await async function(e){let o=await(0,r.fetchTodayWeather)(e),i=await(0,c.fetchThreeDayForecast)(e);(0,n.displayTodayForecast)(o,"F"),(0,t.displayThreeDayForecast)(i,"F"),(0,a.changeScale)(o,i)}(s.value),u=!1,l.classList.remove("open"),l.classList.toggle("open"),await async function(){u||(u=!0,await(0,e.playAnim)(d,"animate__fadeInDown",150),await(0,e.playAnim)(y,"animate__fadeInDown",150))}()}))})()})();
//# sourceMappingURL=main.js.map